<!DOCTYPE html>
<html lang="it">
  <head>
    <title>BilancioFamiliare</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
    <div class="container">
      <%= link_to 'Home', root_path, class: "btn btn-primary #{is_active?(root_path)}" %>
      <div class="btn-group">
        <%= link_to 'Crea nuovo utente', new_user_path, class: "btn btn-primary #{is_active?(new_user_path)}" %>
        <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <span class="caret"></span>
          <span class="sr-only">Toggle Dropdown</span>
        </button>
        <ul class="dropdown-menu">
          <li class="<%= is_active?(users_path) %>"><%= link_to "Elenco Utenti", users_path %></li>
        </ul>
      </div>
      <div class="btn-group">
        <%= link_to 'Crea nuova operazione', new_operation_path, class: "btn btn-primary #{is_active?(new_operation_path)}" %>
        <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <span class="caret"></span>
          <span class="sr-only">Toggle Dropdown</span>
        </button>
        <ul class="dropdown-menu">
          <li class="<%= is_active?(operations_path) %>"><%= link_to "Elenco Operazioni", operations_path %></li>
        </ul>
      </div>
      <div class="btn-group">
        <%= link_to 'Crea nuovo tipo operazione', new_type_path, class: "btn btn-primary #{is_active?(new_type_path)}" %>
        <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <span class="caret"></span>
          <span class="sr-only">Toggle Dropdown</span>
        </button>
        <ul class="dropdown-menu">
          <li class="<%= is_active?(types_path) %>"><%= link_to "Elenco Tipi Operazione", types_path %></li>
        </ul>
      </div>
      <div class="btn-group">
        <%= link_to "Anno corrente #{Time.now.year}", "/#!"+calendar_year_operations_path(year: Time.now.year), class: "btn btn-primary #{is_active?(calendar_year_operations_path(year: Time.now.year))}" %>
        <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <span class="caret"></span>
          <span class="sr-only">Toggle Dropdown</span>
        </button>
        <ul class="dropdown-menu">
          <% (1..12).each do |i| %>
            <li class="<%= is_active?(calendar_month_operations_path(year: Time.now.year, month: i)) %>">
              <%= link_to l(Date.parse("1/#{i}/2015"), format: :month), "/#!"+calendar_month_operations_path(year: Time.now.year, month: i) %>
            </li>
          <% end %>
        </ul>
      </div>
      <div class="pull-right">
      <% if current_user %>
        Signed in as <%= current_user.name %> | <%= link_to "Logout", '/#!logout' %>
      <% else %>
        <%= link_to 'Login', '/#!/login' %>
      <% end %>
      </div>
      <%= render partial: "layouts/components/messages" %>
      <%= yield %>
    </div>
  </body>
</html>
